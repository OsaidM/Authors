(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(17),r=c.n(a),o=(c(23),c(4)),l=(c(24),c(2)),i=(c(31),c(5)),j=c.n(i),b=c(0),h=function(e){var t=e.counter,c=e.setCounter,s=Object(n.useState)([]),a=Object(o.a)(s,2),r=a[0],i=a[1];Object(n.useEffect)((function(){j.a.get("http://localhost:8000/api/authors").then((function(e){return i(e.data.Authors.sort((function(e,t){return e.name>t.name?1:-1})))})).catch((function(e){return console.log("There was an issue: ",e)}))}),[t]);var h=function(e){return"/".concat(e._id)};return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("p",{children:Object(b.jsx)(l.a,{to:"/new",children:"Add an author"})}),Object(b.jsx)("p",{children:"We have quotes by:"})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("table",{className:"table table-hover table-striped table-bordered table-sm",children:[Object(b.jsx)("thead",{className:"thead-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Author"}),Object(b.jsx)("th",{children:"Actions available"})]})}),Object(b.jsx)("tbody",{children:r.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.name}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{className:"btn btn-primary btn-sm",children:Object(b.jsx)(l.a,{to:h(e),children:"Edit"})}),Object(b.jsx)("button",{onClick:function(t){var n;n=h(e),j.a.delete("http://localhost:8000/api/authors"+n).then((function(e){return console.log("Author was successfully deleted: ",e)})).then((function(){return c({count:-1})})).catch((function(e){return console.log("There was a problem: ",e)}))},className:"btn btn-warning btn-sm",style:{marginLeft:"10px"},children:"Delete"})]})]},t)}))})]})})})]})},u=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),h=i[0],u=i[1];return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("p",{children:Object(b.jsx)(l.a,{to:"/",children:"Home"})}),Object(b.jsxs)("p",{children:["Add a new author:\xa0",h.map((function(e,t){return Object(b.jsx)("small",{style:{color:"red"},children:e},t)}))]})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.a.post("http://localhost:8000/api/authors",{name:s}).then((function(){return Object(l.c)("/")})).catch((function(e){for(var t=e.response.data.errors,c=[],n=0,s=Object.keys(t);n<s.length;n++){var a=s[n];c.push(t[a].message)}u(c)}))},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Name:"}),Object(b.jsx)("input",{onChange:function(e){return a(e.target.value)},type:"text",className:"form-control"})]}),Object(b.jsxs)("div",{className:"form-group text-right",children:[Object(b.jsx)("button",{onClick:function(){return Object(l.c)("/")},type:"button",className:"btn btn-secondary btn-sm",children:"Cancel"}),Object(b.jsx)("button",{className:"btn btn-success btn-sm",style:{marginLeft:"10px"},children:"Submit"})]})]})})})]})},d=function(e){var t=e.id,c=Object(n.useState)({}),s=Object(o.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!0),h=Object(o.a)(i,2),u=h[0],d=h[1];Object(n.useEffect)((function(){j.a.get("http://localhost:8000/api/authors/".concat(t)).then((function(e){return r(e.data.Author[0])})).catch((function(e){console.log("There was an issue, ",e),d(!1)}))}),[]),console.log("hello");var O=Object(n.useState)(""),m=Object(o.a)(O,2),x=m[0],p=m[1],f=Object(n.useState)([]),v=Object(o.a)(f,2),N=v[0],g=v[1];return!1===u?Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-8 offset-2 text-center",style:{marginTop:"200px"},children:[Object(b.jsx)("h3",{children:"Oops. That author doesn't exists."}),Object(b.jsx)("p",{children:Object(b.jsx)(l.a,{to:"/new",children:"Would you like to add this author?"})})]})})}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("p",{children:Object(b.jsx)(l.a,{to:"/",children:"Home"})}),Object(b.jsxs)("p",{children:["Edit this author:\xa0",N.map((function(e,t){return Object(b.jsx)("small",{style:{color:"red"},children:e},t)}))]})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.a.put("http://localhost:8000/api/authors/".concat(t),{name:x}).then((function(){return Object(l.c)("/")})).catch((function(e){for(var t=e.response.data.errors,c=[],n=0,s=Object.keys(t);n<s.length;n++){var a=s[n];c.push(t[a].message)}g(c)}))},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Name:"}),Object(b.jsx)("input",{onChange:function(e){return p(e.target.value)},type:"text",placeholder:a.name,className:"form-control"})]}),Object(b.jsxs)("div",{className:"form-group text-right",children:[Object(b.jsx)("button",{onClick:function(){return Object(l.c)("/")},type:"button",className:"btn btn-secondary btn-sm",children:"Cancel"}),Object(b.jsx)("button",{className:"btn btn-success btn-sm",style:{marginLeft:"10px"},children:"Submit"})]})]})})})]})};var O=function(){var e=Object(n.useState)({count:0}),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(l.b,{children:[Object(b.jsx)(h,{counter:c,setCounter:s,path:"/"}),Object(b.jsx)(u,{setCounter:s,path:"/new"}),Object(b.jsx)(d,{path:"/:id"})]})})},m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,52)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),m()}},[[51,1,2]]]);
//# sourceMappingURL=main.1c955931.chunk.js.map